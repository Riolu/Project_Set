<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML><HEAD><TITLE>对抗SQL注入攻击-上海交通大学网络信息中心</TITLE>


<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META content="" name="keywords">
<META content="" name="description"><LINK href="../../images/layout.css" type="text/css" rel="stylesheet"><LINK href="../../images/chromestyle.css" type="text/css" rel="stylesheet">

<!--Announced by Visual SiteBuilder 9-->
<link rel="stylesheet" type="text/css" href="../../_sitegray/_sitegray_d.css" />
<script language="javascript" src="../../_sitegray/_sitegray.js"></script>
<!-- CustomerNO:776562626572323074684754525b564203040000 -->
<link rel="stylesheet" type="text/css" href="../../wlaq/content.vsb.css" />
<META Name="keywords" Content="上海交通大学网络信息中心" />
<script type="text/javascript" src="../../system/resource/js/counter.js"></script>
<script type="text/javascript">_jsq_(1024,'/wlaq/content.jsp',1281,739302322)</script>
</HEAD>
<BODY><script type="text/javascript" src="../../images/chrome.js"></script>
<DIV id="container"><!-- header -->
<DIV id="top">
<DIV class="logo">
<DIV class="mlink">&nbsp;</DIV>
<DIV class="searchbox"><!--#begineditable viewid="1828" name="站内搜索"-->





<form action="../../search.jsp?wbtreeid=1024" method="post" name="a1828a" onsubmit="return subsearchdataa1828a()" style="display: inline">
  <input type="hidden" name="Find" value="find"><input type="hidden" name="entrymode" value="1"><input type="hidden" id="INTEXT2" name="INTEXT2" value=""><input type="hidden" name="news_search_code">
站内搜索&nbsp;<iframe id="intextframea1828a" src="" scrolling="no" frameborder="0" style="position:absolute;top:0px;left:0px;display:none"></iframe>
       <input class="s1" name="INTEXT">
       <input type="image" src="../../images/searchbox.png" class="s2">
</form>
<script>
function subsearchdataa1828a()
{ 
    if(checkDataa1828a(document.a1828a))
    {
       return true;  
    }
    return false;
}       
</script>

    <script> 
    function checkDataa1828a(formname)
    {
        if(window.toFF==1)
            {
                var ssvalue = a1828a.INTEXT.value;
                document.a1828a.INTEXT2.value = base64.encode(Simplized(ssvalue));
            }else
            document.a1828a.INTEXT2.value = base64.encode(document.a1828a.INTEXT.value);
           return true;
    }
    </script>
<script language="javascript" src="../../system/resource/js/base64.js"></script> 
<!--#endeditable--></DIV></DIV>
<DIV class="bn">
<DIV class="banner">
<DIV class="mlink"><!--#begineditable viewid="1826" name="首页左上链接"--><script language="javascript" src="../../system/resource/js/dynclicks.js"></script><script language="javascript" src="../../system/resource/js/openlink.js"></script>    <a href="../../web_en/index_en.htm" target="_blank" title="" onclick="_addDynClicks(&#34;wburl&#34;, 739302322, 1808)">[English Version]</a>
<!--#endeditable--></DIV>


</DIV>
<DIV class="navi chromestyle" id="chromemenu"><!--#begineditable viewid="1785" name="网站主导航"--><a href="../../index.jsp" class="navi1" onmouseover="this.className='navi1-1'" onmouseout="this.className='navi1'" onclick="blur()"></a>
<a href="../../zxgk.htm" rel="dropmenu2" class="navi2" onmouseover="this.className='navi2-1'" onmouseout="this.className='navi2'" onclick="blur()"></a>
<a href="../../gzzd.htm" rel="dropmenu3" class="navi3" onmouseover="this.className='navi3-1'" onmouseout="this.className='navi3'" onclick="blur()"></a>
<a href="../../wlfw.htm" rel="dropmenu4" class="navi4" onmouseover="this.className='navi4-1'" onmouseout="this.className='navi4'" onclick="blur()"></a>
<a href="../../wlaq.htm" rel="dropmenu5" class="navi5" onmouseover="this.className='navi5-1'" onmouseout="this.className='navi5'" onclick="blur()"></a>
<a href="../../yhzc.htm" rel="dropmenu6" class="navi6" onmouseover="this.className='navi6-1'" onmouseout="this.className='navi6'" onclick="blur()"></a>
<a href="../../lxwm.htm" class="navi7" onmouseover="this.className='navi7-1'" onmouseout="this.className='navi7'" onclick="blur()"></a>
<a href="../../web_en.htm" rel="dropmenu8" class="navi8" onmouseover="this.className='navi8-1'" onmouseout="this.className='navi8'" onclick="blur()"></a>
<!--#endeditable--></DIV><!-- 1st drop down menu -->
<DIV class="dropmenudiv" id="dropmenu1"></DIV>
<DIV class="dropmenudiv" id="dropmenu2"><!--#begineditable name="中心概况子栏目" viewid="1837"-->    <a href="../../zxgk/zxjj.htm" title="中心简介">中心简介</a>
    <a href="../../zxgk/xxwjj.htm" title="校园网简介">校园网简介</a>
    <a href="../../zxgk/xyxxh.htm" title="校园信息化">校园信息化</a>
<!--#endeditable--></DIV>
<DIV class="dropmenudiv" id="dropmenu3"><!--#begineditable name="规章制度子栏目" viewid="1838"-->    <a href="../../gzzd/gzzdlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1018" title="规章条例">规章条例</a>
    <a href="../../gzzd/gzzdlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1019" title="政策法规">政策法规</a>
<!--#endeditable--></DIV>
<DIV class="dropmenudiv" id="dropmenu4"><!--#begineditable name="网络服务子栏目" viewid="1839"-->    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1022" title="统一身份认证">统一身份认证</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1021" title="电子邮件">电子邮件</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1044" title="无线网">无线网</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1040" title="VPN">VPN</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1039" title="校园一卡通">校园一卡通</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1042" title="学生宿舍网络">学生宿舍网络</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1041" title="个人网络存储">个人网络存储</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1038" title="虚拟主机">虚拟主机</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1043" title="校园网">校园网</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1045" title="校内代理">校内代理</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1046" title="网络短信平台">网络短信平台</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1047" title="微软校园软件正版化">微软校园软件正版化</a>
    <a href="../../wlfw/wlfwlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1049" title="网络会议和视频转播">网络会议和视频转播</a>
<!--#endeditable--></DIV>
<DIV class="dropmenudiv" id="dropmenu5"><!--#begineditable name="网络安全子栏目" viewid="1840"--><a href="../../wlaq/wlaqlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1024" title="安全建议">安全建议</a>
<a href="../../wlaq/wlaqlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1026" title="安全事件通告">安全事件通告</a>
<a href="http://windowsupdate.sjtu.edu.cn" target="_blank" title="自动更新服务">自动更新服务</a>
<a href="http://antivirus.sjtu.edu.cn" target="_blank" title="防病毒服务">防病毒服务</a>
<!--#endeditable--></DIV>
<DIV class="dropmenudiv" id="dropmenu6"><!--#begineditable name="用户支持子栏目" viewid="1841"-->    <a href="../../yhzc/yhzclist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1098" title="校园网运行状态">校园网运行状态</a>
    <a href="../../yhzc/yhzclist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1029" title="常用设置">常用设置</a>
    <a href="../../yhzc/yhzclist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1030" title="用户指南">用户指南</a>
    <a href="../../yhzc/yhzclist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1031" title="文档下载">文档下载</a>
<!--#endeditable--></DIV>
<DIV class="dropmenudiv" id="dropmenu7"></DIV>
<DIV class="dropmenudiv" id="dropmenu8"></DIV>

</DIV>
<DIV style="clear: both"></DIV></DIV><script type="text/javascript">

cssdropdown.startchrome("chromemenu")

</script><!-- header end --><!-- main -->
<DIV id="main"><!-- main left -->
<DIV class="ln">
<DIV class="mailloginform">
<DIV class="mtitle64"></DIV>
<DIV class="mtxt">
<UL class="hl"><!--#begineditable viewid="1861" name="网络安全左边导航"-->    <li><div class="pt4"><a href="../../wlaq/wlaqlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1024" title="安全建议">安全建议</a></div></li>
    <li><div class="pt4"><a href="../../wlaq/wlaqlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1026" title="安全事件通告">安全事件通告</a></div></li>
    <li><div class="pt4"><a href="http://windowsupdate.sjtu.edu.cn" target="_blank" title="自动更新服务">自动更新服务</a></div></li>
    <li><div class="pt4"><a href="http://antivirus.sjtu.edu.cn" target="_blank" title="防病毒服务">防病毒服务</a></div></li>
<!--#endeditable--></UL></DIV>
<DIV style="clear: both"></DIV>
<DIV class="n1"></DIV>
<DIV class="n2"></DIV>
<DIV class="lititle"></DIV>
<DIV class="hotlink">
<UL class="hl">
<LI>
<DIV class="pt4"><A href="http://cert1.sjtu.edu.cn" target="_blank">安全问题举报</A></DIV></LI>
<LI>
<DIV class="pt4"><A href="http://bbs.sjtu.edu.cn/bbsdoc?board=SJTUnet" target="_blank">讨论交流</A></DIV></LI></UL></DIV></DIV></DIV><!-- main left end --><!-- main right -->
<DIV class="rn"><!-- main right top -->
<DIV class="htmc"></DIV><!-- location -->
<DIV class="htlocation">
<DIV id="position"><!--#begineditable viewid="1784" name="当前位置"-->  
<a href="../../index.jsp">首页</a><a href="../../wlaq.htm">网络安全</a><a href="../../wlaq/wlaqlist.jsp?urltype=tree.TreeTempUrl&wbtreeid=1024">安全建议</a>正文<!--#endeditable--></DIV></DIV><!-- location end --><!-- main right top end --><!-- main right body -->
<DIV class="hm">
<DIV style="clear: both"></DIV>
<DIV class="maintxt"><!--#begineditable viewid="1858" name="文章内容"--><script language="javascript" src="../../_dwr/interface/NewsvoteDWR.js"></script><script language="javascript" src="../../_dwr/engine.js"></script><script language="javascript" src="../../system/resource/js/news/newscontent.js"></script><script language="javascript" src="../../system/resource/js/ajax.js"></script><style type="text/css">
     .tpcontent{FONT-WEIGHT: bold; FONT-SIZE: 11pt; COLOR: #2b2b2b; FONT-FAMILY: 宋体;}
     .cytpstyle{FONT-SIZE: 9pt; COLOR: #2b2b2b; FONT-FAMILY: 宋体;}
     .content{margin:auto;text-align:left;line-height:18px;padding:3px 0 0 0;color:#727272;}
     .process{width:162px;height:11px;background:#EDEDED;overflow:hidden;float:left;margin-left:26px !important;margin-left:13px;margin-right:10px;}
     .process div{width:160px;height:11px;background:url(../../system/resource/images/newsvote/bg.gif) repeat-x;border-left:1px solid #000;border-right:1px solid #000;}
     .process .style7{border-left-color:#ff0000;border-right-color:#ff0000;background-position:0 -77px;}
</style>
<form name="_newscontent_fromname">
<div>
    <p id="text-strong">对抗SQL注入攻击</p>
    <div align="center">2010-11-06&nbsp;kaida&nbsp;点击：[<script>_showDynClicks("wbnews", 739302322, 1281)</script>] </div>
    <hr>
    <div><TABLE cellspacing="1" cellpadding="1" width="95%" bgcolor="#3366cc" border="0">
<TBODY>
<TR>
<TD class="text" align="top" background="http://comic.sjtu.edu.cn/bbs/" bgcolor="#efefef">
<TABLE cellspacing="0" cellpadding="0" width="100%" border="0">
<TBODY>
<TR>
<TD class="smText" align="middle" width="96%">本文由 <A href="mailto:kaida@sjtu.edu.cn">kaida</A> 于2008 7月 06 at 11:27am 发表，已被阅读 20016 次</TD></TR></TBODY></TABLE><BR>国内网站被挂马的常见原因是SQL注入攻击。<BR><BR>那么，除了在Web开发的时候注意以外，有什么有效的工具可以对抗SQL注入攻击？<BR><BR>2008年6月，微软和惠普的安全部门合作发布了三个工具，分别是：<BR><BR>微软SQL注入攻击源码扫描器：<SPAN style="color: #ff0000"><STRONG>Microsoft Source Code Analyzer for SQL Injection (MSCASI)</STRONG></SPAN>。<BR>这个工具给网站开发人员使用。是一个静态扫描ASP代码的工具，可以查找发现第一类和第二类的SQL注入攻击漏洞。 工具官方下载地址：<A title="http://support.microsoft.com/kb/954476" href="http://support.microsoft.com/kb/954476" target="_blank"><FONT color="#095c83">http://support.microsoft.com/kb/954476</FONT></A><BR>本地下载地址：<BR><A href="http://cert.sjtu.edu.cn/download/sjtu/sql/msscasi_asp_pkg.exe" target="_blank">http://cert.sjtu.edu.cn/download/sjtu/sql/msscasi_asp_pkg.exe</A><BR><BR>惠普的 <SPAN style="color: #ff0000"><STRONG>Scrawlr</STRONG></SPAN>工具。这个工具可以被网站的维护人员使用，是一个黑箱扫描工具，不需要源代码。指定起始URL开始扫描。确定是不能准确定位代码的漏洞（因为是黑箱测试）。<BR>官方工具下载地址：<A title="http://www.communities.hp.com/securitysoftware/blogs/spilabs/archive/2008/06/23/finding-sql-injection-with-scrawlr.aspx" href="http://www.communities.hp.com/securitysoftware/blogs/spilabs/archive/2008/06/23/finding-sql-injection-with-scrawlr.aspx" target="_blank"><FONT color="#095c83">http://www.communities.hp.com/securitysoftware/blogs/spilabs/archive/2008/06/23/finding-sql-injection-with-scrawlr.aspx</FONT></A><BR>本地下载地址：<BR><A href="http://cert.sjtu.edu.cn/download/sjtu/sql/Scrawlr.msi" target="_blank">http://cert.sjtu.edu.cn/download/sjtu/sql/Scrawlr.msi</A><BR><BR>微软的<SPAN style="color: #ff0000"><STRONG>URLScan 3.0 Beta</STRONG></SPAN>。这个工具可以被网站的维护人员使用。它是一个输入过滤工具。如果你发现网站被SQL注入工具，你可以在一边修补代码<A href="http://www.15897.com/blog/catalog.asp?tags=%E6%BC%8F%E6%B4%9E%E4%BF%A1%E6%81%AF" target="_blank"><FONT color="#095c83">漏洞</FONT></A>的同时，使用这个攻击在过滤掉恶意的输入。当然，修补代码中的漏洞是完全避免SQL注入攻击的真正解决方案。<BR>官方工具下载地址：<A title="http://blogs.iis.net/wadeh/archive/2008/06/05/urlscan-v3-0-beta-release.aspx" href="http://blogs.iis.net/wadeh/archive/2008/06/05/urlscan-v3-0-beta-release.aspx" target="_blank"><FONT color="#095c83">http://blogs.iis.net/wadeh/archive/2008/06/05/urlscan-v3-0-beta-release.aspx</FONT></A><BR>本地下载地址：<BR><A href="http://cert.sjtu.edu.cn/download/sjtu/sql/urlscan_v3_beta_x86.msi" target="_blank">http://cert.sjtu.edu.cn/download/sjtu/sql/urlscan_v3_beta_x86.msi</A><BR><BR>SWI的博客上有更进一步的描述。<A title="http://blogs.technet.com/swi/archive/2008/06/24/new-tools-to-block-and-eradicate-sql-injection.aspx" href="http://blogs.technet.com/swi/archive/2008/06/24/new-tools-to-block-and-eradicate-sql-injection.aspx" target="_blank"><FONT color="#095c83">http://blogs.technet.com/swi/archive/2008/06/24/new-tools-to-block-and-eradicate-sql-injection.aspx</FONT></A><BR><BR>那么，这三个工具是如何配合使用的？下面给出一个例子。 
<P>步骤一：网站的维护人员使用Scrawlr扫描网站，检查是否存在SQL注入漏洞</P>
<P>步骤二：发现存在漏洞后，通知开发人员。开发人员使用MSCASI对ASP源码静态扫描来确定代码中什么地方导致的SQL注入攻击漏洞。</P>
<P>步骤三：在开发人员修补漏洞的同时，维护人员可以使用URLScan来过滤可能的恶意输入，以确保网站的安全。</P>
<P>这三个工具的配合使用可以很大程度上减少网站被挂马的可能。说实话，现在被挂马的网站实在是太多了！</P>
<P>from：褚诚云blog</P><EDITED><EDITID></TD></TR></TBODY></TABLE></div><div id="div_vote_id"></div>
    <p align="right">
        上一条：<a href="1652.htm">建议仍在使用Windows XP Internet Explorer 6的用户打开TLS1.0支持</a>
        下一条：<a href="1280.htm">Ghost有漏洞,镜像恢复需小心陷阱</a>
    </p>
    <p align="right">【<a href="javascript:window.opener=null;window.open('','_self');window.close();">关闭</a>】</p>
</div>
</from>
<script>
    showVote(1281,739302322,"#F3F7FA"," class='cytpstyle' ","#090909","<img src ='/system/resource/images/newsvote/ss00.png' border='0'>"," class='tpcontent' ","欢迎参与投票",10,"<img src='/system/resource/images/newsvote/submit2.gif' onclick='_newscontent_getresult(1281,739302322)'  style='cursor:hand;'>","<img src='/system/resource/images/newsvote/view2.gif' onclick='_newscontent_lookresult()' style='cursor:hand;'>",document._newscontent_fromname,"请填写投票项！","127.0.0.1","您已经投过票了！","投票系统出现异常，请稍后再试！","感谢参与！","投票结果")
</script><!--#endeditable-->
<FORM name="_newscontent_fromname"></DIV>
<DIV style="clear: both"></DIV></DIV>
<DIV style="clear: both"></DIV><!-- main right body end --></DIV><!-- main right end --></DIV><!-- main end -->
<DIV class="k"></DIV><!-- footer -->
<DIV id="footer">
<DIV class="link" style="display: none">友情链接：<SELECT class="s3" name="link" onchange="javascript:window.open(this.options[this.selectedIndex].value)"> <OPTION value="" selected>&nbsp;&nbsp;</OPTION> <OPTION value="http://www.sjtu.edu.cn">上海交通大学</OPTION> <OPTION value="http://www.edu.cn">中国教育和科研网</OPTION> <OPTION value="http://www.cdream.com/">校园梦网</OPTION></SELECT> </DIV>
<DIV class="cp"><!--#begineditable viewid="1825" name="版权"--><P>2004-2013 上海交通大学网络中心 版权所有 <FONT color="#2c678d">沪交ICP备05069</FONT></P><!--#endeditable--></DIV></DIV><!-- footer end --></DIV>

</FORM></BODY></HTML>
